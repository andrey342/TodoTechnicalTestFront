<div class="group bg-surface-light dark:bg-surface-dark p-4 rounded-lg shadow-card border border-gray-100 dark:border-gray-700 hover:border-primary/30 hover:shadow-md transition-all cursor-pointer"
    [class.opacity-70]="item().isCompleted" (click)="clicked.emit(item())">
    <div class="flex justify-between items-start mb-2">
        <todo-badge [text]="'#TSK-' + item().itemId"></todo-badge>
        <div class="flex items-center gap-2">
            @if (item().category) {
            <span class="inline-flex items-center gap-1 text-xs text-primary bg-primary/10 px-2 py-0.5 rounded-full">
                <span class="material-symbols-outlined text-[12px]">label</span>
                {{ item().category }}
            </span>
            }
            @if (item().isCompleted) {
            <span class="material-symbols-outlined text-green-500 text-sm">check_circle</span>
            }
        </div>
    </div>

    <h4 class="text-sm font-medium text-gray-900 dark:text-white mb-4 leading-snug"
        [class.line-through]="item().isCompleted" [class.text-gray-500]="item().isCompleted">
        {{ item().title }}
    </h4>

    <todo-progress-bar [progress]="item().totalProgress || 0"></todo-progress-bar>
</div>