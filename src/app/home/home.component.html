<div
    class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-gray-100 min-h-screen flex flex-col font-display overflow-hidden">
    <!-- Header -->
    <header
        class="flex-none flex items-center justify-between border-b border-gray-200 dark:border-gray-800 bg-surface-light dark:bg-surface-dark px-6 py-3 shadow-soft z-20">
        <div class="flex items-center gap-3">
            <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-white">
                <span class="material-symbols-outlined">dashboard</span>
            </div>
            <h2 class="text-lg font-bold tracking-tight text-gray-900 dark:text-white">TodoTechnicalTest</h2>
        </div>
    </header>

    <!-- Main Board -->
    <main class="flex-1 flex flex-col w-full h-full overflow-hidden p-6">
        <div class="board-container flex-1 overflow-x-auto pb-4">
            <div class="flex h-full gap-6 min-w-max" cdkDropListGroup>
                <!-- Columns -->
                @for (list of todoLists(); track list.id) {
                <todo-column [list]="list" (addItem)="onAddItem($event)" (deleteList)="onDeleteList($event)"
                    (itemMoved)="onItemMoved($event)"></todo-column>
                }

                <!-- Add List Button Column -->
                <div class="w-80 pt-2 opacity-50 hover:opacity-100 transition-opacity">
                    <button (click)="isCreateListModalOpen.set(true)"
                        class="w-full flex items-center justify-center gap-2 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 h-12 text-gray-500 hover:border-primary hover:text-primary hover:bg-white dark:hover:bg-gray-800 transition-all">
                        <span class="material-symbols-outlined">add</span>
                        <span class="font-medium text-sm">AÃ±adir Lista</span>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals -->
    <app-create-list-modal [isOpen]="isCreateListModalOpen()"
        (close)="onCreateListClosed($event)"></app-create-list-modal>
</div>